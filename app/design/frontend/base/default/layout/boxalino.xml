<?xml version="1.0"?>

<layout version="0.1.0">
    <default>
        <reference name="head">
            <action method="addItem">
                <type>skin_css</type>
                <name>css/boxalino.css</name>
            </action>
            <action method="addItem">
                <type>skin_js</type>
                <name>js/boxalinoAutocomplete.js</name>
            </action>
            <action method="addItem" ifconfig="Boxalino_General/jquery/jquery_file">
                <type>skin_js</type>
                <name>js/jquery-1.10.2.min.js</name>
            </action>
            <action method="addItem" ifconfig="Boxalino_General/jquery/noconflict_file">
                <type>skin_js</type>
                <name>js/jquery-noConflict.js</name>
            </action>
        </reference>
        <reference name="before_body_end">
            <block type="boxalino_intelligence/script" name="intelligence_script" template="boxalino/script.phtml"/>
        </reference>
    </default>

    <catalogsearch_result_index>
        <reference name="head">
            <action method="addItem" ifconfig="bxSearch/search/filter">
                <type>skin_css</type>
                <name>css/nouislider.css</name>
            </action>
            <action method="addItem" ifconfig="bxSearch/search/filter">
                <type>skin_js</type>
                <name>js/nouislider.js</name>
            </action>
        </reference>
        <reference name="content">
            <block type="boxalino_intelligence/facets" name="top_filter" as="search_top_filter" before="-"
                   template="boxalino/top_filter.phtml" ifconfig="bxSearch/top_facet/enabled"/>
        </reference>
    </catalogsearch_result_index>
    <catalog_category_layered>
        <reference name="head">
            <action method="addItem" ifconfig="bxSearch/navigation/filter">
                <type>skin_css</type>
                <name>css/nouislider.css</name>
            </action>
            <action method="addItem" ifconfig="bxSearch/navigation/filter">
                <type>skin_js</type>
                <name>js/nouislider.js</name>
            </action>
        </reference>
        <reference name="content">
            <block type="boxalino_intelligence/facets" name="top_filter" as="category_top_filter" before="-"
                   template="boxalino/top_filter.phtml" ifconfig="bxSearch/top_facet/enabled"/>
        </reference>
    </catalog_category_layered>
</layout>
